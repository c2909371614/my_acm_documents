define("acm/nowcoder/1.0.177/javascripts-acm/component/contest/notice",["nc"],function(t,e,i){var n=t("nc"),o=n.$,r=n.Clazz,c=n.Base,s=n.Component,a=i.exports=r.create();r.mix(a,s,{_template:['<div class="notice-tip-bar">','<div class="notice-tip-content">','<i class="icon-volume-down"></i><span class="js-part-notice"></span><a href="javascript:void(0);" class="icon-remove"></a>',"</div>","</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this.getEl();this.contentEl=t.find("span.js-part-notice")}},{name:"click a.icon-remove",handler:function(){this.closeNotice()}}]},{initialize:function u(t){var e=this;e.list=[],e.currentItem=null,e.showing=!1,e.hiding=!1},showNotice:function l(t){var e=this,i=e.list;c.isString(t)&&(t={content:t,type:"TYPE_NORMAL_STRING_MSG"});if(!c.isObject(t)||!o.trim(t.content))return;var n=+(c.id(t.duration)||6e4),r=o.trim(t.type);t.type=r,t.duration=n,e.removeType(r),0===n&&e.removeFixed(),r&&e.currentItem&&e.currentItem.type===r?(i.unshift(t),e.startNotice(!0)):(i.push(t),e.startNotice())},startNotice:function h(t){var e=this,i=(e.rawConfig,e.getEl()),n=e.list;if(0===n.length)return void e.hideNotice();if(e.currentItem&&!t)return;if(e.hiding)return;e.showing||(e.resize(),i.hide().show(750));window.clearTimeout(e._noticeTimer);var r=e.currentItem=n.shift();e.showContent(r.content),e.showing=!0,e._noticeTimer=window.setTimeout(function(){0===r.duration&&!e.existFixed()&&n.push(r),e.currentItem=null,e.startNotice()},r.duration||6e4)},hideNotice:function d(){var t=this,e=t.getEl();if(t.hiding)return;t.hiding=!0,window.clearTimeout(t._noticeTimer),t.list.length=0,e.hide(750,function(){t.currentItem=null,t.showing=!1,t.hiding=!1,t.showContent(""),t.resize(),0<t.list.length&&t.startNotice()})},closeNotice:function m(t){var e=this,i=(t=t||{}).type;if(t.all)return void e.hideNotice();(i=o.trim(i))&&e.removeType(i),(!i||e.currentItem&&e.currentItem.type===i)&&e.startNotice(!0)},removeType:function f(t){var e=this.list;if(!(t=o.trim(t)))return;for(var i=e.length-1;0<=i;i--)e[i].type===t&&e.splice(i,1)},removeFixed:function v(){for(var t=this.list,e=t.length-1;0<=e;e--)0===t[e].duration&&t.splice(e,1)},existFixed:function p(){for(var t=this.list,e=0,i=t.length;e<i;e++)if(0===t[e].duration)return!0;return!1},showContent:function g(t){(t=o.trim(t))&&this.contentEl.html(t)},resize:function w(){var t=this.rawConfig;t&&t.resize&&t.resize()}})});