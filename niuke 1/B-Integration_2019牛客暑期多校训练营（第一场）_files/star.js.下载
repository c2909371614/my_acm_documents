define("acm/nowcoder/1.0.177/javascripts-acm/component/star",["nc","cpn"],function(t,a,n){var r=t("nc"),s=(t("cpn"),r.$),c=r.Base,e=r.Clazz,o=r.Component,i=n.exports=e.create();e.mix(i,o,{_template:['<div class="difficulty">','<span class="stars-all star-0"></span>','<span class="item-scores">0.0</span>','<span class="club-tips"></span>',"</div>"].join(""),listeners:[{name:"render",type:"custom",handler:function(){var t=this;t.initHover(),t.rawConfig.starCount&&t.val({starCount:t.rawConfig.starCount})}}]},{initHover:function l(){var n=this,e=n.getEl(".stars-all"),r=function(t){var a=t.clientX,n=e.offset().left,r=a-n,s=Math.max(1,Math.ceil(r/23));return s=s<1?1:5<s?5:s,s=c.contains([1,2,3,4,5],s)?s:3};e.on("mousemove",function(t){var a=r(t);n.markStar(a),n.changeScore(a)}),e.on("mouseleave",function(t){n.markStar(n.starCount),n.changeScore(n.starCount)}),e.on("click",function(t){var a=r(t);n.markStar(a),n.changeScore(a),n.starCount=a})},val:function u(t){var a=this;if(0===arguments.length)return{starCount:a.starCount||0};t=t||{},a.starCount=t.starCount||0,a.markStar(a.starCount),a.changeScore(a.starCount)},getScoreDesc:function m(t){return(this.rawConfig.scoreDesc||[])[t-1]||""},markStar:function f(t){var a=this.getEl(".stars-all");if(t=(t=+t||0)<0?0:5<t?5:t,!(a=s(a).get(0)))return;var n=a.className;n=n.replace(/star-\d+/g,""),n=(n+=0<t?" star-"+t:"").replace(/\s+/g," "),a.className=n},changeScore:function p(t,a){var n=this,r=n.getScoreDesc(t);t=t||0,n.getEl("span.item-scores").html(t+".0"),n.getEl("span.club-tips").html(r),a&&(n.starCount=t)}})});